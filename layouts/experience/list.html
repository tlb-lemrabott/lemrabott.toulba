{{- define "main" }}

{{- $pages := union .RegularPages .Sections }}
{{- $paginator := .Paginate $pages }}

<div class="experience-container">
  <div class="experience-timeline">
    {{- range $index, $page := $paginator.Pages }}
    <article class="experience-card">
      <div class="experience-header">
        <h2 class="experience-title"><a href="{{ $page.RelPermalink }}" class="experience-title-link">{{ $page.Title }}</a></h2>
        {{- if $page.Params.dateString }}
        <span class="experience-date">{{ $page.Params.dateString }}</span>
        {{- end }}
      </div>
      
      {{- if $page.Description }}
      <div class="experience-description">
        {{ $page.Description }}
      </div>
      {{- end }}
      
      {{- if $page.Params.tags }}
      <div class="experience-tags">
        {{- range $page.Params.tags }}
        <span class="experience-tag">{{ . }}</span>
        {{- end }}
      </div>
      {{- end }}
      

    </article>
    {{- end }}
  </div>
</div>

{{- if gt $paginator.TotalPages 1 }}
<footer class="page-footer">
  <nav class="pagination">
    {{- if $paginator.HasPrev }}
    <a class="prev" href="{{ $paginator.Prev.URL | absURL }}">« {{ i18n "prev_page" }}</a>
    {{- end }}
    {{- if $paginator.HasNext }}
    <a class="next" href="{{ $paginator.Next.URL | absURL }}">{{ i18n "next_page" }} »</a>
    {{- end }}
  </nav>
</footer>
{{- end }}

<!-- Experience Page JavaScript -->
<script src="{{ "js/experience.js" | absURL }}"></script>

{{- end }}{{- /* end main */ -}} 